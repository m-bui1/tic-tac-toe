<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .grid{
            display: grid;
            grid-template-columns: repeat(3, 100px);


        }
        .box{
            font-family: Arial, sans-serif;
            font-weight: bold;
            border: 1px solid black;
            height: 100px;
            width: 100px;
            font-size: 600%;
            text-align: center;
            background-size: 90%;
            background-position: center;
            background-repeat: no-repeat;
        }
        h2{
            text-align: center;
            font-size: 30px;
        }
        section{
            justify-content: center;
        }
        div{
            text-align: center;
        }
        #a1,#a2,#a3,#a4,#a5,#a6,#a7,#a8,#a9{
            color:black
        }
    </style>

</head>
<body>
    
    <section class="grid" >
        <div class="box" id="a1"></div>
        <div class="box" id="a2"></div>
        <div class="box" id="a3"></div>
        <div class="box" id="a4"></div>
        <div class="box" id="a5"></div>
        <div class="box" id="a6"></div>
        <div class="box" id="a7"></div>
        <div class="box" id="a8"></div>
        <div class="box" id="a9"></div>
    </section>
    <h2 class="winner"></h2>
    <div>
        <button class="reset">Click To Reset</button>
        <button class="start">Click to Start</button>
    </div>
    <h2 class="xScore">Player 1 Score: <span class="xSpan">0</span></h2>
    <h2 class="oScore">Player 2 Score: <span class="oSpan">0</span></h2>
    <h2 class="drawScore">Draws: <span class="drawSpan">0</span></h2>


    <script>
// Use grid of arrays in order create the board
    boxes = document.querySelectorAll('div.box')
    resetButton = document.querySelector('button.reset')
    startButton = document.querySelector('button.start')
    drawTot = document.querySelector('h2.drawScore')
    drawScore = 0
    xTot = document.querySelector('h2.xScore')
    xScore = 0
    oTot = document.querySelector('h2.oScore')
    oScore = 0
    var counter = 1
    var X = 'X'
    var O = 'O'
    var playerTurn = X
    var isGameOver = false
    winnerTitle = document.querySelector('h2.winner')
    spanXTag = document.querySelector('span.xSpan')
    spanOTag = document.querySelector('span.oSpan')
    spanDrawTag = document.querySelector('span.drawSpan')
    body = document.querySelector('body')

    //document.getElementsByClassName('box').addEventListener("mouseout", mouseOut)

// resets button
    resetButton.addEventListener('click', function(event){
        for(let k = 0; k < boxes.length; k++){
                counter = 1
                console.log(boxes[k].textContent = '')
                winnerTitle.textContent = ''
                isGameOver = false
            }

    }) 

    startButton.addEventListener('click', function(event){
        for(let k = 0; k < boxes.length; k++){
                counter = 1
                oScore = 0
                xScore = 0
                drawScore = 0
                console.log(boxes[k].textContent = '')
                spanDrawTag.textContent = 0
                spanOTag.textContent = 0
                spanXTag.textContent = 0
                winnerTitle.textContent = ''
                isGameOver = false
        }
    })


    for(let i = 0; i < boxes.length; i++){
        boxes[i].addEventListener('click', function (){
            if(counter % 2 == 0 && boxes[i].textContent == '' && isGameOver === false){
                counter = parseInt(counter) + 1
                playerTurn = X
                var xSelect = event.target
                xSelect.textContent = X
                xSelect.style.opacity = 1

            } else if(counter % 2 == 1 && boxes[i].textContent == '' && isGameOver === false){
                counter = parseInt(counter) + 1
                playerTurn = O
                var oSelect = event.target
                oSelect.textContent = O
                oSelect.style.opacity = 1
            }
        
            if(boxes[0].textContent === 'X' && boxes[1].textContent === 'X' && boxes[2].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                                
            }
            else if(boxes[3].textContent === 'X' && boxes[4].textContent === 'X' && boxes[5].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                    
            }
            else if(boxes[6].textContent === 'X' && boxes[7].textContent === 'X' && boxes[8].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                
            }
            else if(boxes[0].textContent === 'X' && boxes[3].textContent === 'X' && boxes[6].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                
            }
            else if(boxes[1].textContent === 'X' && boxes[4].textContent === 'X' && boxes[7].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                
            }
            else if(boxes[2].textContent === 'X' && boxes[5].textContent === 'X' && boxes[8].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                
            }
            else if(boxes[0].textContent === 'X' && boxes[4].textContent === 'X' && boxes[8].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                
            }
            else if(boxes[2].textContent === 'X' && boxes[4].textContent === 'X' && boxes[6].textContent === 'X' && isGameOver === false){
                xScore = xScore + 1
                spanXTag.textContent = xScore
                winnerTitle.textContent = 'Player 1 wins'
                isGameOver = true
                
            }
            else if(boxes[0].textContent === 'O' && boxes[1].textContent === 'O' && boxes[2].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[3].textContent === 'O' && boxes[4].textContent === 'O' && boxes[5].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[6].textContent === 'O' && boxes[7].textContent === 'O' && boxes[8].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[0].textContent === 'O' && boxes[3].textContent === 'O' && boxes[6].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[1].textContent === 'O' && boxes[4].textContent === 'O' && boxes[7].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[2].textContent === 'O' && boxes[5].textContent === 'O' && boxes[8].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[0].textContent === 'O' && boxes[4].textContent === 'O' && boxes[8].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
            }
            else if(boxes[2].textContent === 'O' && boxes[4].textContent === 'O' && boxes[6].textContent === 'O' && isGameOver === false){
                oScore = oScore + 1
                spanOTag.textContent = oScore
                winnerTitle.textContent = 'Player 2 wins'
                isGameOver = true
                
                
            } else if((counter === 9) && (isGameOver === false)){
                drawScore = drawScore + 1
                spanDrawTag.textContent = drawScore
                winnerTitle.innerHTML = 'DRAW'
                isGameOver = true
                
            }
        })
    }
    for(let i = 0; i < boxes.length; i++){
      boxes[i].addEventListener('mouseover', function(){
        if(counter % 2 == 0 && boxes[i].textContent == '' && isGameOver === false){
            boxes[i].style.backgroundImage = "url('./x3.png')"
            boxes[i].style.opacity = 0.3
        }else if(counter % 2 == 1 && boxes[i].textContent == '' && isGameOver === false){
            boxes[i].style.backgroundImage = "url('./o2.jpg')"
            boxes[i].style.opacity = 0.3
        }
            boxes[i].addEventListener('mouseout', function(){
            boxes[i].style.backgroundImage = ""
            boxes[i].style.opacity = 1
            }) 
        })
    }



// can be similar to the make them Player 1 task but will need to use 2d array
// once clicked color changes.
// takes turns changing color by using % 2 to see if there is a remainder vs not a remainder change color
// use boolean operators to demonstrate all possible win scenarios, and if either color has any of the win scenarios decalre winner
// 

    </script>
    
</body>
</html>